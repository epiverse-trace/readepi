<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>query_parameters • readepi</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="query_parameters">
<!-- Google tag (gtag.js) --><script async src="https://www.googletagmanager.com/gtag/js?id=G-XZ471458FQ"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-XZ471458FQ');
</script>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">
    <a href="https://epiverse-trace.github.io/" class="external-link"><img src="https://epiverse-trace.github.io/blueprints/logo_white.svg" id="logo" alt="Epiverse-TRACE"></a>
    <a class="navbar-brand me-2" href="../index.html">readepi</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">1.0.3</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/readepi.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/design_principle.html">Package design vignette for {readepi}</a></li>
    <li><a class="dropdown-item" href="../articles/install_drivers.html">install_drivers</a></li>
    <li><a class="dropdown-item" href="../articles/query_parameters.html">query_parameters</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/epiverse-trace/readepi/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch">
<li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul>
</li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">



<script src="query_parameters_files/kePrint-0.0.1/kePrint.js"></script><link href="query_parameters_files/lightable-0.0.1/lightable.css" rel="stylesheet">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>query_parameters</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/epiverse-trace/readepi/blob/v1.0.3/vignettes/query_parameters.Rmd" class="external-link"><code>vignettes/query_parameters.Rmd</code></a></small>
      <div class="d-none name"><code>query_parameters.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>For a successful API or database request, users are required to
provide details about where the data can be found and which data they
want the reading function to return. These information is generally
designated as <strong>query paramaters</strong> and can vary depending
on the type of HIS. In the sections below, we will describe the query
parameters and define how to use them when fetching data from our target
HIS.</p>
<div class="section level3">
<h3 id="rdbms-query-parameters">RDBMS query parameters<a class="anchor" aria-label="anchor" href="#rdbms-query-parameters"></a>
</h3>
<p>Following a successful authentication using the <code><a href="../reference/login.html">login()</a></code>
function, the connection with the database is established. Users can
then determine the name of the table in the database, where the dataset
of interest is stored. They can also inform the reading function about
what entries and/or fields they are mainly interested in. These pieces
of information are passed to the <code><a href="../reference/read_rdbms.html">read_rdbms()</a></code> via the
<code>query</code> argument. In the current version of the package, the
<code>query</code> can be either:</p>
<ol style="list-style-type: decimal">
<li>An <strong>SQL query</strong> where the parameters are embedded
within an SQL request, or</li>
<li>A <strong>list</strong> with the following elements:</li>
</ol>
<ul>
<li>
<code>table</code>: a string with the table name.</li>
<li>
<code>fields</code>: a vector of column names. When specified, only
those columns will be returned. Default is <code>NULL</code>.</li>
<li>
<code>filter</code>: an expression or a vector of values used to
filter the rows from the table of interest. Default is
<code>NULL</code>.</li>
</ul>
<div class="section level4">
<h4 id="examples">Examples<a class="anchor" aria-label="anchor" href="#examples"></a>
</h4>
<p>Say our connection object is <code>rdbms_login</code> and we are
aiming to fetch data from the <code>author</code> table. Suppose that
table contains article first author’s details. From that table, we are
only interest in return author’s name, surname and orcid for the first
ten authors. The value of the <code>query</code> argument will look like
below:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## AS A LIST</span></span>
<span><span class="fu"><a href="../reference/read_rdbms.html">read_rdbms</a></span><span class="op">(</span></span>
<span>  login <span class="op">=</span> <span class="va">rdbms_login</span>,</span>
<span>  query <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    table  <span class="op">=</span> <span class="st">"author"</span>,</span>
<span>    fields <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"name"</span>, <span class="st">"last_name"</span>, <span class="st">"orcid"</span><span class="op">)</span>,</span>
<span>    filter <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">10</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co">## AS AN SQL QUERY - FOR MySQL server</span></span>
<span><span class="fu"><a href="../reference/read_rdbms.html">read_rdbms</a></span><span class="op">(</span></span>
<span>  login <span class="op">=</span> <span class="va">rdbms_login</span>,</span>
<span>  query <span class="op">=</span> <span class="st">"SELECT name, last_name, orcid FROM author LIMIT 10"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>Note that the syntax in the SQL query depends on the server type. The
example above is tailored for a MySQL server. If you wish to explore the
syntax for other server types, see <a href="https://www.w3schools.com/sqL/" class="external-link">here</a> for more details.</p>
</div>
</div>
<div class="section level3">
<h3 id="dhis2-query-parameters">DHIS2 query parameters<a class="anchor" aria-label="anchor" href="#dhis2-query-parameters"></a>
</h3>
<p>To account for diversity of query parameters across multiple DHSI2
versions, a table detailing query parameters appropriate to each version
is provided within this package as a variable under the name
<code>request_parameters</code>. This variable is a data frame that
contains the following details.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">readepi</span><span class="fu">::</span><span class="va"><a href="../reference/request_parameters.html">request_parameters</a></span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">kableExtra</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/kableExtra/man/kbl.html" class="external-link">kbl</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">kableExtra</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/kableExtra/man/kable_classic.html" class="external-link">kable_paper</a></span><span class="op">(</span><span class="st">"striped"</span>, font_size <span class="op">=</span> <span class="fl">14</span>, full_width <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">kableExtra</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/kableExtra/man/scroll_box.html" class="external-link">scroll_box</a></span><span class="op">(</span>height <span class="op">=</span> <span class="st">"200px"</span>, width <span class="op">=</span> <span class="st">"100%"</span>,</span>
<span>                         box_css <span class="op">=</span> <span class="st">"border: 1px solid #ddd; padding: 5px; "</span>,</span>
<span>                         extra_css <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>                         fixed_thead <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<div style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:200px; overflow-x: scroll; width:100%; ">
<table class="table  lightable-paper lightable-striped" style='font-size: 14px; font-family: "Arial Narrow", arial, helvetica, sans-serif; margin-left: auto; margin-right: auto;'>
<thead><tr>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
version
</th>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
e_endpoint
</th>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
e_orgunit
</th>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
e_teid
</th>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
e_oumode
</th>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
e_response
</th>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
te_endpoint
</th>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
te_orgunit
</th>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
te_teid
</th>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
te_oumode
</th>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
te_response
</th>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
paging
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
&lt;=37
</td>
<td style="text-align:left;">
events
</td>
<td style="text-align:left;">
orgUnit
</td>
<td style="text-align:left;">
trackedEntityInstance
</td>
<td style="text-align:left;">
ouMode
</td>
<td style="text-align:left;">
events
</td>
<td style="text-align:left;">
trackedEntityInstances
</td>
<td style="text-align:left;">
ou
</td>
<td style="text-align:left;">
trackedEntity
</td>
<td style="text-align:left;">
ouMode
</td>
<td style="text-align:left;">
trackedEntityInstances
</td>
<td style="text-align:left;">
skipPaging=true
</td>
</tr>
<tr>
<td style="text-align:left;">
[38-40]
</td>
<td style="text-align:left;">
tracker/events
</td>
<td style="text-align:left;">
orgUnit
</td>
<td style="text-align:left;">
trackedEntityInstance
</td>
<td style="text-align:left;">
ouMode
</td>
<td style="text-align:left;">
instances
</td>
<td style="text-align:left;">
tracker/trackedEntities
</td>
<td style="text-align:left;">
orgUnit
</td>
<td style="text-align:left;">
trackedEntity
</td>
<td style="text-align:left;">
ouMode
</td>
<td style="text-align:left;">
instances
</td>
<td style="text-align:left;">
skipPaging=true
</td>
</tr>
<tr>
<td style="text-align:left;">
&gt;=41
</td>
<td style="text-align:left;">
tracker/events
</td>
<td style="text-align:left;">
orgUnit
</td>
<td style="text-align:left;">
trackedEntity
</td>
<td style="text-align:left;">
orgUnitMode
</td>
<td style="text-align:left;">
events
</td>
<td style="text-align:left;">
tracker/trackedEntities
</td>
<td style="text-align:left;">
orgUnits
</td>
<td style="text-align:left;">
trackedEntity
</td>
<td style="text-align:left;">
orgUnitMode
</td>
<td style="text-align:left;">
trackedEntities
</td>
<td style="text-align:left;">
paging=false
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section level3">
<h3 id="sormas-query-parameters">SORMAS query parameters<a class="anchor" aria-label="anchor" href="#sormas-query-parameters"></a>
</h3>
<p>In the current implementation of the package, the
<code><a href="../reference/read_sormas.html">read_sormas()</a></code> and its surrogate functions use the following
basic query parameters with their default values:</p>
<ul>
<li>
<code>disease</code>: a character with the name of the disease of
interest. Use the <code><a href="../reference/sormas_get_diseases.html">sormas_get_diseases()</a></code> function to get the
list of all available diseases.</li>
<li>
<code>filter</code>: an expression used to filter on rows. The
current version uses the default value: <strong>all</strong>, i.e.,
returning all rows.</li>
<li>
<code>since</code>: a value of type Date in ISO8601 format
(YYYY-mm-dd). The current version uses the default value:
<strong>NULL</strong>, i.e., returning all rows since the beginning of
data collection.</li>
</ul>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Karim Mané, Emmanuel Kabuga, Bubacarr Bah, data.org.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3. Theme provided by <a href="https://github.com/epiverse-trace/epiversetheme" class="external-link">epiversetheme</a> 0.1.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
